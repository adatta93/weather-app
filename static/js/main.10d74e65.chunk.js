(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{14:function(e,t,a){e.exports=a(42)},19:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(13),c=a.n(i),l=a(2),o=(a(19),a(3)),s=a.n(o);a(37);function m(e){var t,a=e.weather,n=e.baseUrl,i=e.tempFormat,c=e.toFahrenheit;return r.a.createElement("div",{className:"forecast-item"},r.a.createElement("div",{className:"forecast-date"},(t=a.applicable_date,new Date(t).getDate()-(new Date).getDate()===1?"Tomorrow":new Intl.DateTimeFormat("en-GB",{weekday:"short",day:"numeric",month:"short"}).format(new Date(t)))),r.a.createElement("img",{alt:a.id,src:"".concat(n,"/").concat(a.weather_state_abbr,".svg"),style:{width:"50px"}}),r.a.createElement("div",{className:"forecast-temp"},r.a.createElement("div",null,"c"===i?r.a.createElement(r.a.Fragment,null,a.max_temp.toFixed(),r.a.createElement("span",null,"\xb0C")):r.a.createElement(r.a.Fragment,null,c(a.max_temp.toFixed()),r.a.createElement("span",null,"\xb0F"))),r.a.createElement("div",null,"c"===i?a.min_temp.toFixed():c(a.min_temp.toFixed()),r.a.createElement("span",null,"\xb0C"))))}function d(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"bounce1"}),r.a.createElement("div",{className:"bounce2"}),r.a.createElement("div",{className:"bounce3"}))}a(38);function h(e){var t=e.fetchWeather,a=e.showSearch,n=e.setShowSearch,i=e.query,c=e.setQuery,l=e.searchResult,o=e.searchLocation,s=e.searchError,m=e.loading;return r.a.createElement("div",{className:"search-page ".concat(a?"open":"close")},r.a.createElement("div",{className:"back-section"},r.a.createElement("span",{className:"material-icons back-btn",onClick:function(){return n(!1)}},"close")),r.a.createElement("div",{className:"search-section"},r.a.createElement("input",{type:"text",placeholder:"Search location",className:"search-box",value:i,onChange:function(e){return c(e.target.value)}}),r.a.createElement("button",{className:"search-btn",onClick:o},"Search")),m?r.a.createElement(d,null):s?r.a.createElement("div",{className:"location-error"},s):r.a.createElement("div",{className:"search-result"},r.a.createElement("div",{className:"search-list"},l&&l.map((function(e){return r.a.createElement("div",{className:"search-list-item",key:e.woeid,onClick:function(){return t(e.woeid)}},r.a.createElement("span",null,e.title),r.a.createElement("span",{className:"material-icons"},"keyboard_arrow_right"))})))))}a(39);function u(e){var t=e.todayWeather,a=e.tempFormat,n=e.toFahrenheit,i=e.baseUrl,c=e.onSearchPlaces,l=e.getLocation,o=e.showSearch,s=e.locationError,m=t.consolidated_weather[0];return r.a.createElement("div",{className:"current-temp ".concat(o?"close":"open")},r.a.createElement("div",{className:"change-location"},r.a.createElement("button",{className:"location-btn",onClick:c},"Search for places"),r.a.createElement("span",{className:"material-icons current-location",onClick:l},"my_location")),s?r.a.createElement("div",{className:"location-error"},s):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{alt:m.id,src:"".concat(i,"/").concat(m.weather_state_abbr,".svg"),class:"current-weather-img"}),r.a.createElement("div",{className:"today-temp"},"c"===a?r.a.createElement(r.a.Fragment,null,m.max_temp.toFixed(),r.a.createElement("span",{style:{fontSize:"3rem"}},"\xb0C")):r.a.createElement(r.a.Fragment,null,n(m.max_temp.toFixed()),r.a.createElement("span",{style:{fontSize:"3rem"}},"\xb0F"))),r.a.createElement("div",{className:"today-weather"},m.weather_state_name),r.a.createElement("div",{className:"today-date"},"Today",r.a.createElement("span",{style:{padding:"0 15px"}},"-"),(console.log("Weather",new Date(m.applicable_date)),new Intl.DateTimeFormat("en-GB",{weekday:"short",day:"numeric",month:"short"}).format(new Date(m.applicable_date)))),r.a.createElement("div",{className:"chosen-location"},r.a.createElement("span",{className:"material-icons"},"place"),t.title)))}a(40);function p(e){var t=e.todayWeather.consolidated_weather[0];return r.a.createElement("div",{className:"today-highlight"},r.a.createElement("div",{className:"wind"},r.a.createElement("div",null,"Wind Status"),r.a.createElement("div",{className:"hightlight-value"},t.wind_speed.toFixed(),r.a.createElement("span",{className:"highlight-unit"},"mph")),r.a.createElement("div",{className:"compass"},r.a.createElement("span",{className:"material-icons",style:{transform:"rotate(".concat(180+t.wind_direction,"deg)")}},"navigation"),t.wind_direction_compass)),r.a.createElement("div",{className:"humidity"},r.a.createElement("div",null,"Humidity"),r.a.createElement("div",{className:"hightlight-value"},t.humidity.toFixed(),r.a.createElement("span",{className:"highlight-unit"},"%")),r.a.createElement("div",{className:"progress-bar-scale"},r.a.createElement("span",null,"0%"),r.a.createElement("span",null,"50%"),r.a.createElement("span",null,"100%")),r.a.createElement("div",{className:"progress-bar-track"},r.a.createElement("div",{className:"progress-bar-fill",style:{width:"".concat(t.humidity.toFixed(),"%")}}))),r.a.createElement("div",{className:"visibility"},r.a.createElement("div",null,"Visibility"),r.a.createElement("div",{className:"hightlight-value"},t.visibility.toFixed(1),r.a.createElement("span",{className:"highlight-unit"},"miles"))),r.a.createElement("div",{className:"air-pressure"},r.a.createElement("div",null,"Air Pressure"),r.a.createElement("div",{className:"hightlight-value"},t.air_pressure.toFixed(),r.a.createElement("span",{className:"highlight-unit"},"mb"))))}a(41);function w(e){var t=e.isDark,a=e.toggleDark,n=e.tempFormat,i=e.setTempFormat;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"dark-mode"},r.a.createElement("img",{src:"https://cdn0.iconfinder.com/data/icons/multimedia-solid-30px/30/moon_dark_mode_night-128.png",title:"".concat(t?"Show Light Mode":"Show Dark Mode"),alt:"toggle mode",onClick:function(){return a(!t)},height:"30",width:"30",style:t?{filter:"invert(1) contrast(1.5)"}:{filter:"invert(0) contrast(1.5)"}})),r.a.createElement("div",{className:"change-temp-format"},r.a.createElement("div",{className:"temp-format ".concat("c"===n&&"selected"),onClick:function(){return i("c")}},"\xb0C"),r.a.createElement("div",{className:"temp-format ".concat("f"===n&&"selected"),onClick:function(){return i("f")}},"\xb0F")))}function _(e){var t=e.isDark,a=e.toggleDark,i=Object(n.useState)({consolidated_weather:[{id:6642255035105280,weather_state_name:"Heavy Rain",weather_state_abbr:"hr",wind_direction_compass:"SSW",created:"2020-07-22T19:00:11.969947Z",applicable_date:"2020-07-23",min_temp:21.64,max_temp:27.66,the_temp:28.17,wind_speed:2.8225931120151646,wind_direction:275.02479300353485,air_pressure:1007.5,humidity:71,visibility:10.827703710331662,predictability:77},{id:5503460831133696,weather_state_name:"Heavy Rain",weather_state_abbr:"hr",wind_direction_compass:"S",created:"2020-07-22T19:00:14.280701Z",applicable_date:"2020-07-24",min_temp:20.28,max_temp:27.225,the_temp:27.37,wind_speed:4.422349187215992,wind_direction:190.11736490002653,air_pressure:1008.5,humidity:74,visibility:10.741333114610674,predictability:77},{id:5379313526374400,weather_state_name:"Heavy Rain",weather_state_abbr:"hr",wind_direction_compass:"WSW",created:"2020-07-22T19:00:17.364258Z",applicable_date:"2020-07-25",min_temp:19.72,max_temp:27.14,the_temp:26.705,wind_speed:6.101861738572073,wind_direction:241.01241222105557,air_pressure:1010,humidity:73,visibility:10.135496202179272,predictability:77},{id:5380335728590848,weather_state_name:"Light Rain",weather_state_abbr:"lr",wind_direction_compass:"W",created:"2020-07-22T19:00:20.883036Z",applicable_date:"2020-07-26",min_temp:19.155,max_temp:28.189999999999998,the_temp:28.125,wind_speed:5.343479980007423,wind_direction:261.66024690574216,air_pressure:1010.5,humidity:71,visibility:10.879588204883479,predictability:75},{id:5010490256261120,weather_state_name:"Showers",weather_state_abbr:"s",wind_direction_compass:"W",created:"2020-07-22T19:00:23.487909Z",applicable_date:"2020-07-27",min_temp:19.869999999999997,max_temp:29.495,the_temp:27.39,wind_speed:6.618573132903841,wind_direction:270.5,air_pressure:1010,humidity:69,visibility:9.999726596675416,predictability:73},{id:5911162078101504,weather_state_name:"Showers",weather_state_abbr:"s",wind_direction_compass:"WNW",created:"2020-07-22T19:00:26.224740Z",applicable_date:"2020-07-28",min_temp:20.345,max_temp:29.384999999999998,the_temp:27.33,wind_speed:6.602986359659588,wind_direction:287.5,air_pressure:1008,humidity:70,visibility:9.999726596675416,predictability:73}],time:"2020-07-23T00:32:18.728032+05:30",sun_rise:"2020-07-23T06:03:09.272804+05:30",sun_set:"2020-07-23T18:48:48.468264+05:30",timezone_name:"LMT",parent:{title:"India",location_type:"Country",woeid:23424848,latt_long:"21.786600,82.794762"},sources:[{title:"BBC",slug:"bbc",url:"http://www.bbc.co.uk/weather/",crawl_rate:360},{title:"Forecast.io",slug:"forecast-io",url:"http://forecast.io/",crawl_rate:480},{title:"Met Office",slug:"met-office",url:"http://www.metoffice.gov.uk/",crawl_rate:180},{title:"OpenWeatherMap",slug:"openweathermap",url:"http://openweathermap.org/",crawl_rate:360},{title:"Weather Underground",slug:"wunderground",url:"https://www.wunderground.com/?apiref=fc30dc3cd224e19b",crawl_rate:720},{title:"World Weather Online",slug:"world-weather-online",url:"http://www.worldweatheronline.com/",crawl_rate:360}],title:"Bangalore",location_type:"City",woeid:2295420,latt_long:"12.955800,77.620979",timezone:"Asia/Kolkata"}),c=Object(l.a)(i,2),o=c[0],_=c[1],g="https://www.metaweather.com/static/img/weather",E="https://www.metaweather.com",b=Object(n.useState)(!1),v=Object(l.a)(b,2),f=v[0],y=v[1],N=Object(n.useState)(!1),k=Object(l.a)(N,2),F=k[0],S=k[1],x=function(e){y(!1),S(!0),s.a.get("".concat(E,"/api/location/").concat(e)).then((function(e){console.log(e.data),_(e.data),J(""),S(!1)}),(function(e){J("Error fetching weather data"),S(!1)}))},O=Object(n.useState)(""),D=Object(l.a)(O,2),W=D[0],j=D[1],C=Object(n.useState)(""),T=Object(l.a)(C,2),L=T[0],B=T[1],I=Object(n.useState)(""),R=Object(l.a)(I,2),Z=R[0],H=R[1],M=Object(n.useState)(!1),U=Object(l.a)(M,2),z=U[0],P=U[1],q=Object(n.useState)(""),A=Object(l.a)(q,2),G=A[0],J=A[1],Q=Object(n.useState)("c"),K=Object(l.a)(Q,2),V=K[0],$=K[1],X=function(e){return(9*e/5+32).toFixed()};return r.a.createElement(r.a.Fragment,null,o&&o.consolidated_weather&&r.a.createElement("div",{className:"page-container"},r.a.createElement("div",{className:"left-panel"},r.a.createElement(h,{fetchWeather:x,showSearch:f,setShowSearch:y,query:W,setQuery:j,searchResult:L,searchLocation:function(){P(!0),s.a.get("".concat(E,"/api/location/search/?query=").concat(W)).then((function(e){e.data&&e.data.length>0?(B(e.data),P(!1),H("")):(P(!1),H("No Result found"))}),(function(e){H("Error fetching location"),P(!1)}))},searchError:Z,loading:z}),F?r.a.createElement(d,null):r.a.createElement(u,{todayWeather:o,tempFormat:V,toFahrenheit:X,baseUrl:g,onSearchPlaces:function(){y(!0)},getLocation:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){s.a.get("".concat(E,"/api/location/search/?lattlong=").concat(e.coords.latitude,",").concat(e.coords.longitude)).then((function(e){x(e.data[0].woeid),J("")}),(function(e){J("Error fetching weather data")}))}),(function(e){J("Error fetching location")}))},showSearch:f,locationError:G})),r.a.createElement("div",{className:"right-panel"},r.a.createElement(w,{isDark:t,toggleDark:a,tempFormat:V,setTempFormat:$}),G?r.a.createElement("div",{className:"location-error"},G):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"forcase-list"},o.consolidated_weather.map((function(e,t){return t>0?r.a.createElement(m,{key:t,weather:e,baseUrl:g,tempFormat:V,toFahrenheit:X}):null}))),r.a.createElement("h3",null,"Today's Highlights"),r.a.createElement(p,{todayWeather:o})))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(){var e=Object(n.useState)((function(){return"true"===localStorage.getItem("isDark")})),t=Object(l.a)(e,2),a=t[0],i=t[1];return a?document.body.classList.add("dark"):document.body.classList.add("light"),r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{isDark:a,toggleDark:function(e){a?(document.body.classList.remove("dark"),document.body.classList.add("light"),i(!1),localStorage.setItem("isDark",!1)):(document.body.classList.remove("light"),document.body.classList.add("dark"),i(!0),localStorage.setItem("isDark",!0))}}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.10d74e65.chunk.js.map